<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#1a1a1a">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>Contacts & Calls</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="manifest" href="manifest.json">
</head>
<body>
  <!-- Device frame & viewport selector (desktop) -->
  <div id="device-toolbar" class="device-toolbar">
    <label>Device preview:</label>
    <select id="device-select">
      <option value="none">No frame (responsive)</option>
      <option value="iphone14">iPhone 14</option>
      <option value="iphone14pro">iPhone 14 Pro</option>
      <option value="iphoneSE">iPhone SE</option>
      <option value="pixel7">Pixel 7</option>
      <option value="samsungS23">Samsung S23</option>
      <option value="oppo">Oppo / OnePlus</option>
      <option value="small">Small (320px)</option>
      <option value="medium">Medium (375px)</option>
      <option value="large">Large (414px)</option>
    </select>
    <button id="fullscreen-btn" type="button">Fullscreen frame</button>
  </div>

  <div id="device-frame" class="device-frame" data-device="none">
    <div class="device-screen">
      <!-- Status bar -->
      <header class="status-bar">
        <span class="status-battery">92%</span>
      </header>

      <!-- Search bar -->
      <div class="search-bar">
        <button type="button" class="icon-btn menu-btn" aria-label="Menu">â˜°</button>
        <input type="search" placeholder="Search contacts" class="search-input" aria-label="Search contacts">
        <button type="button" class="icon-btn voice-demo-btn" aria-label="Voice demo">ğŸ¤</button>
      </div>

      <!-- Sidebar menu (hidden by default) -->
      <div id="sidebar-menu" class="sidebar-menu hidden">
        <div class="sidebar-header">
          <h2>Menu</h2>
          <button type="button" class="close-sidebar-btn" aria-label="Close menu">âœ•</button>
        </div>
        <nav class="sidebar-nav">
          <button type="button" class="sidebar-item" data-menu="calls-history">
            <span class="menu-icon">ğŸ“</span>
            <span>Call History</span>
          </button>
          <button type="button" class="sidebar-item" data-menu="contacts">
            <span class="menu-icon">ğŸ‘¥</span>
            <span>Contacts</span>
          </button>
          <button type="button" class="sidebar-item" data-menu="settings">
            <span class="menu-icon">âš™ï¸</span>
            <span>Settings</span>
          </button>
          <button type="button" class="sidebar-item" data-menu="help">
            <span class="menu-icon">â“</span>
            <span>Help & How to Use</span>
          </button>
          <button type="button" class="sidebar-item" data-menu="feedback">
            <span class="menu-icon">ğŸ’¬</span>
            <span>Feedback</span>
          </button>
        </nav>
      </div>

      <!-- Sidebar overlay -->
      <div id="sidebar-overlay" class="sidebar-overlay hidden"></div>

      <!-- Tabs -->
      <nav class="tabs">
        <button type="button" class="tab active" data-tab="all">All</button>
        <button type="button" class="tab" data-tab="missed">Missed</button>
        <button type="button" class="tab" data-tab="contacts">Contacts</button>
      </nav>

      <!-- Main content -->
      <main class="main-content">
        <!-- Empty state -->
        <div id="empty-state" class="empty-state">
          <div class="empty-icon">ğŸ“</div>
          <h2>No contacts yet</h2>
          <p>Create your first contact to get started</p>
          <button type="button" class="btn-primary" id="create-contact-btn">+ Add Contact</button>
        </div>

        <!-- Call logs container -->
        <ul class="call-list" id="call-list"></ul>
      </main>

      <!-- Call screen (hidden by default) -->
      <div id="call-screen" class="call-screen hidden">
        <div class="call-screen-content">
          <button type="button" class="close-call-btn" aria-label="Close">âœ•</button>
          <div class="call-avatar-large"><span id="call-avatar-text">ğŸ‘¤</span></div>
          <h1 id="call-name-display">Loading...</h1>
          <div id="call-duration" class="call-duration">00:00</div>
          <div class="call-actions">
            <button type="button" class="call-action-btn mute-btn" title="Mute (say 'mute')" aria-label="Mute">ğŸ”Š</button>
            <button type="button" class="call-action-btn speaker-btn" title="Speaker (say 'speaker')" aria-label="Speaker">ğŸ“¢</button>
            <button type="button" class="call-action-btn end-btn" title="End (say 'end')" aria-label="End call">ğŸ“µ</button>
          </div>
          <div class="voice-hint">Say "mute", "speaker", "end", "volume up", or "volume down"</div>
        </div>
      </div>

      <!-- Contact modal (hidden by default) -->
      <div id="contact-modal" class="modal hidden">
        <div class="modal-content">
          <div class="modal-header">
            <h2>New Contact</h2>
            <button type="button" class="close-btn" aria-label="Close">âœ•</button>
          </div>
          <form id="contact-form" class="contact-form">
            <div class="form-group">
              <label>Name *</label>
              <input type="text" id="contact-name" placeholder="Enter name" required>
            </div>
            <div class="form-group">
              <label>Phone *</label>
              <input type="tel" id="contact-phone" placeholder="Enter phone number" required>
            </div>
            <button type="submit" class="btn-primary">Create Contact</button>
          </form>
        </div>
      </div>

      <!-- Voice Demo Modal -->
      <div id="voice-demo-modal" class="modal hidden">
        <div class="modal-content">
          <div class="modal-header">
            <h2>ğŸ¤ Voice Control Guide</h2>
            <button type="button" class="close-btn" aria-label="Close">âœ•</button>
          </div>
          <div class="help-content">
            <h3>How to Use Voice Commands</h3>
            <p>Make sure your browser has microphone permission enabled.</p>
            
            <h4>ğŸ“ During an Active Call</h4>
            <ul>
              <li><strong>Say "mute"</strong> â†’ Toggle microphone on/off</li>
              <li><strong>Say "speaker"</strong> â†’ Toggle speaker phone</li>
              <li><strong>Say "end"</strong> or <strong>"hang up"</strong> â†’ End the call</li>
              <li><strong>Say "volume up"</strong> â†’ Increase volume</li>
              <li><strong>Say "volume down"</strong> â†’ Decrease volume</li>
            </ul>

            <h4>ğŸ“± For Incoming Calls</h4>
            <ul>
              <li><strong>Say "answer"</strong> or <strong>"accept"</strong> â†’ Accept the call</li>
              <li><strong>Say "reject"</strong> or <strong>"decline"</strong> â†’ Reject the call</li>
            </ul>

            <h4>âœ… Tips for Best Results</h4>
            <ul>
              <li>Speak clearly and naturally</li>
              <li>Use one command at a time</li>
              <li>Commands work during calls</li>
              <li>Allow microphone access when browser asks</li>
            </ul>

            <button type="button" class="btn-primary test-voice-btn">ğŸ¤ Test Microphone</button>
          </div>
        </div>
      </div>

      <!-- Help & How to Use Modal -->
      <div id="help-modal" class="modal hidden">
        <div class="modal-content">
          <div class="modal-header">
            <h2>â“ Help & How to Use</h2>
            <button type="button" class="close-btn" aria-label="Close">âœ•</button>
          </div>
          <div class="help-content">
            <h3>Getting Started</h3>

            <h4>1ï¸âƒ£ Create a Contact</h4>
            <p>Tap the <strong>â•</strong> button in the top right to create a new contact. Enter the name and phone number.</p>

            <h4>2ï¸âƒ£ Make a Call</h4>
            <p>Go to the <strong>Contacts</strong> tab and tap on any contact to start a call. The call screen will show.</p>

            <h4>3ï¸âƒ£ Control Your Call</h4>
            <p>Use the buttons or voice commands to control your call. The timer shows how long you've been on the call.</p>

            <h4>4ï¸âƒ£ View Call History</h4>
            <p>Go to the <strong>All</strong> tab to see all your past calls with timestamps and durations.</p>

            <h4>5ï¸âƒ£ Delete a Contact</h4>
            <p>Swipe left on a contact in the Contacts tab, or tap the delete button if available.</p>

            <h3>Features</h3>
            <ul>
              <li>ğŸ“ <strong>Call History</strong> - All calls logged automatically</li>
              <li>ğŸ¤ <strong>Voice Control</strong> - Hands-free call management</li>
              <li>ğŸ‘¥ <strong>Contact Management</strong> - Create, view, and delete contacts</li>
              <li>ğŸ” <strong>Search</strong> - Find contacts quickly</li>
              <li>ğŸ’¾ <strong>Local Storage</strong> - Data saved on your device</li>
            </ul>

            <h3>Data Storage</h3>
            <p>All your contacts and call history are stored on your device using browser storage. Your data is private and never sent to any server.</p>

            <button type="button" class="btn-primary" id="close-help-btn">Got It!</button>
          </div>
        </div>
      </div>

      <!-- Settings Modal -->
      <div id="settings-modal" class="modal hidden">
        <div class="modal-content">
          <div class="modal-header">
            <h2>âš™ï¸ Settings</h2>
            <button type="button" class="close-btn" aria-label="Close">âœ•</button>
          </div>
          <div class="help-content">
            <h3>App Settings</h3>

            <div class="setting-item">
              <label>
                <input type="checkbox" id="voice-enabled" checked>
                <span>Enable Voice Commands</span>
              </label>
            </div>

            <div class="setting-item">
              <label>
                <input type="checkbox" id="notifications-enabled" checked>
                <span>Enable Notifications</span>
              </label>
            </div>

            <h3>Data Management</h3>
            <p>You have <strong id="contact-count">0</strong> contacts and <strong id="call-count">0</strong> call logs.</p>

            <button type="button" class="btn-danger" id="clear-all-btn">ğŸ—‘ï¸ Clear All Data</button>

            <h3>About</h3>
            <p>Contact Calls App v2.0</p>
            <p>A modern contact and call history application with voice control.</p>

            <button type="button" class="btn-primary" id="close-settings-btn">Done</button>
          </div>
        </div>
      </div>

      <!-- Feedback Modal -->
      <div id="feedback-modal" class="modal hidden">
        <div class="modal-content">
          <div class="modal-header">
            <h2>ğŸ’¬ Send Feedback</h2>
            <button type="button" class="close-btn" aria-label="Close">âœ•</button>
          </div>
          <form id="feedback-form" class="contact-form">
            <div class="form-group">
              <label>Feedback Type</label>
              <select id="feedback-type" required>
                <option value="">-- Select --</option>
                <option value="bug">Bug Report</option>
                <option value="feature">Feature Request</option>
                <option value="improvement">Improvement</option>
                <option value="other">Other</option>
              </select>
            </div>
            <div class="form-group">
              <label>Message *</label>
              <textarea id="feedback-message" placeholder="Tell us what you think..." required rows="5"></textarea>
            </div>
            <p style="font-size: 12px; color: #888;">Note: Feedback is saved locally and not sent anywhere.</p>
            <button type="submit" class="btn-primary">Submit Feedback</button>
          </form>
        </div>
      </div>

      <!-- Incoming call modal (hidden by default) -->
      <div id="incoming-call-modal" class="modal incoming-call hidden">
        <div class="incoming-call-content">
          <div class="incoming-avatar"><span id="incoming-avatar-text">ğŸ‘¤</span></div>
          <h2 id="incoming-name">Incoming Call</h2>
          <div class="incoming-actions">
            <button type="button" class="action-reject" title="Reject (say 'reject')">ğŸ“µ</button>
            <button type="button" class="action-accept" title="Answer (say 'answer')">ğŸ’š</button>
          </div>
          <div class="voice-hint">Say "answer" or "reject"</div>
        </div>
      </div>

      <!-- Keypad Screen (hidden by default) -->
      <div id="keypad-screen" class="keypad-screen hidden">
        <div class="keypad-container">
          <div class="keypad-display">
            <input type="text" id="keypad-input" placeholder="Enter number" readonly>
            <button type="button" class="keypad-clear-btn" title="Clear">C</button>
          </div>
          <div class="keypad-grid">
            <button type="button" class="keypad-btn" data-digit="1">1</button>
            <button type="button" class="keypad-btn" data-digit="2">2<span>ABC</span></button>
            <button type="button" class="keypad-btn" data-digit="3">3<span>DEF</span></button>
            
            <button type="button" class="keypad-btn" data-digit="4">4<span>GHI</span></button>
            <button type="button" class="keypad-btn" data-digit="5">5<span>JKL</span></button>
            <button type="button" class="keypad-btn" data-digit="6">6<span>MNO</span></button>
            
            <button type="button" class="keypad-btn" data-digit="7">7<span>PQRS</span></button>
            <button type="button" class="keypad-btn" data-digit="8">8<span>TUV</span></button>
            <button type="button" class="keypad-btn" data-digit="9">9<span>WXYZ</span></button>
            
            <button type="button" class="keypad-btn" data-digit="*">*</button>
            <button type="button" class="keypad-btn" data-digit="0">0<span>+</span></button>
            <button type="button" class="keypad-btn" data-digit="#">#</button>
          </div>
          <div class="keypad-actions">
            <button type="button" id="keypad-call-btn" class="keypad-call-btn">ğŸ“ Call</button>
            <button type="button" id="keypad-close-btn" class="keypad-close-btn">âœ• Close</button>
          </div>
        </div>
      </div>

      <!-- Bottom nav -->
      <nav class="bottom-nav">
        <a href="#" class="nav-item active">
          <span class="nav-icon">ğŸ </span>
          <span class="nav-label">Home</span>
        </a>
        <a href="#keypad" class="nav-item">
          <span class="nav-icon">âŒ¨ï¸</span>
          <span class="nav-label">Keypad</span>
        </a>
      </nav>
    </div>
  </div>

  <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
  <script src="app.js"></script>
</body>
</html>
